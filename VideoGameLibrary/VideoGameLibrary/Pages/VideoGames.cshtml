@page
@using UserData.Models.DTOs
@model VideoGameLibrary.Pages.VideoGamesModel
@{
    ViewData["Title"] = "VideoGames";
}

<div class="form-div">
    <form method="post" asp-page-handler="Search" class="search-and-filter-form">
        <label>Search Term:</label>
        <input asp-for="SearchKey" />
        <input type="submit" value="Search" />
    </form>

    <p>Filter games -></p>
    <form method="post" asp-page-handler="Filter" class="search-and-filter-form">
        <label>Genre:</label>
        <input asp-for="Genre" />

        <label>Platform:</label>
        <select asp-for="Platform">
            <option value=""></option>
            <option value="PC">PC</option>
            <option value="PlayStation">PlayStation</option>
            <option value="Xbox">Xbox</option>
            <option value="Nintendo">Nintendo</option>
            <option value="iOS">iOS</option>
            <option value="Android">Android</option>
            <option value="macOS">macOS</option>
            <option value="Linux">Linux</option>
        </select>

        <label>ESRB Rating:</label>
        <select asp-for="ESRBRating">
            <option value=""></option>
            <option value="Everyone">Everyone</option>
            <option value="Teen">Teen</option>
            <option value="Mature">Mature</option>
            <option value="Adults Only">Adults Only</option>
            <option value="Rating Pending">Rating Pending</option>
        </select>

        <input type="submit" value="Filter" />
    </form>
</div>

<div class="video-game-collection">
    <h1>Video Games</h1>
    <h6>Displayed games: @Model.ShownGames.Count()</h6>
</div>

<div>
    @{
        foreach (var videoGame in Model.ShownGames)
        {
            <partial name="_VideoGamePartial" model="videoGame" />
            <form method="post" asp-page-handler="Delete" class="video-game-delete">
                <input asp-for="DeleteId" type="hidden" value="@videoGame.VideoGameId" />
                <input type="submit" value="Delete Game" />
            </form>
        }
    }
</div>
